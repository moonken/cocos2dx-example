window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=e("polyglot.min"),r=null;function i(e){return window.i18n.languages[e]}function a(e){e&&(r?r.replace(e):r=new o({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=i(e)||{};window.i18n.curLang=e,a(t),this.inst=r}},t:function(e,t){if(r)return r.t(e,t)},inst:r,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var o=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(var r=0;r<t.length;++r){t[r].updateLabel()}for(var i=[],a=0;a<e.length;++a){var c=e[a].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(i,c)}for(var s=0;s<i.length;++s){i[s].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=o,cc._RF.pop()},{}],achievementItem:[function(e,t,n){"use strict";cc._RF.push(t,"e462fc6r8NAQZ8dqYXLfLSu","achievementItem");e("global");cc.Class({extends:cc.Component,properties:{sprite:{default:null,type:cc.Node}},updateAchievement:function(e){var t=this;this.achievementItem=e,cc.loader.loadRes(e.image,cc.SpriteFrame,function(e,n){t.sprite.getComponent(cc.Sprite).spriteFrame=n})},start:function(){}}),cc._RF.pop()},{global:"global"}],backpack:[function(e,t,n){"use strict";cc._RF.push(t,"a79d2WLXetI3IVtFnmsUDsP","backpack");var o=e("global");cc.Class({extends:cc.Component,properties:{backpackItemList:{default:null,type:cc.Node},backpackItemPrefab:{default:null,type:cc.Prefab},itemSprite:{default:null,type:cc.Node}},onBack:function(){o.router.goBack()},onInfo:function(){o.router.goto(o.SCENES.PROFILE_SCENE)},selectItem:function(e){this.selectedItem=e;var t=this;cc.loader.loadRes(e.image,cc.SpriteFrame,function(e,n){t.itemSprite.getComponent(cc.Sprite).spriteFrame=n})},onLoad:function(){var e=this,t=o.backpack.getItems();this.backpackItemList.height=100*Math.ceil(t.length/3),t.forEach(function(t){var n=new cc.instantiate(e.backpackItemPrefab);n.getComponent("storeItem").store=e,n.getComponent("storeItem").updateItem(t),e.backpackItemList.addChild(n)})},start:function(){}}),cc._RF.pop()},{global:"global"}],character:[function(e,t,n){"use strict";cc._RF.push(t,"a072bMvv7ZD+qtIdi1oLlDg","character");var o=e("global");cc.Class({extends:cc.Component,properties:{nameEditor:{default:null,type:cc.EditBox},ageEditor:{default:null,type:cc.EditBox},heroSelectorPrefab:{default:null,type:cc.Prefab}},onGenderSelected:function(e){this.gender=e.checkEvents[0].customEventData},onNext:function(){o.profile.updateCharacter({gender:this.gender,name:this.nameEditor.string,age:this.ageEditor.string,heroId:this.heroSelector.getComponent("heroSelector").getSelectedHero().id}),o.router.goto(o.SCENES.WORLD_SCENE),o.getPlayGround().updateHero()},onLoad:function(){this.gender="Male",this.heroSelector=cc.instantiate(this.heroSelectorPrefab),this.node.addChild(this.heroSelector)},start:function(){}}),cc._RF.pop()},{global:"global"}],cityItem:[function(e,t,n){"use strict";cc._RF.push(t,"6161f27OotDApeMJA8om4oJ","cityItem");var o=e("global");cc.Class({extends:cc.Component,properties:{city:"beijing"},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMousedown,this)},onMousedown:function(e){o.router.goto(o.SCENES.CITY_SCENE,o.setCurrentCity(this.city))},start:function(){}}),cc._RF.pop()},{global:"global"}],cityScene:[function(e,t,n){"use strict";cc._RF.push(t,"349e4gSkQxFMZ4VvvM0S3dn","cityScene");e("global");cc.Class({extends:cc.Component,properties:{cityScene:{default:null,type:cc.Node}},onLoad:function(){var e=cc.director.getScene();cc.instantiate(this.cityScene).parent=e},start:function(){}}),cc._RF.pop()},{global:"global"}],config:[function(e,t,n){"use strict";cc._RF.push(t,"30f42CYLT1HoLRasAs7GWqQ","config");t.exports={api:"http://localhost:8080"},cc._RF.pop()},{}],"en-us":[function(e,t,n){"use strict";cc._RF.push(t,"aa19fgQ4DBEpZiSdVcqR06U","en-us"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages["en-us"]={login:{login_screen_label:"Login",username_label:"Username",username_placeholder:"user name",password_label:"Password",password_placeholder:"password",login_button:"Login"}},cc._RF.pop()},{}],explorationGameEnd:[function(e,t,n){"use strict";cc._RF.push(t,"60114p+6hBIKYrIzCHLb4rq","explorationGameEnd");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},onBack:function(){o.router.goto(o.SCENES.EXPLORATION_SCENE)},onLoad:function(){this.label.string=o.getCurrentExploration().id+" Game End"},start:function(){}}),cc._RF.pop()},{global:"global"}],explorationGame:[function(e,t,n){"use strict";cc._RF.push(t,"0027fG9o6pBM5mrrH8BWZeJ","explorationGame");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},onEnd:function(){o.passCurrentExploration(),o.router.goto(o.SCENES.EXPLORATION_GAME_END_SCENE)},onLoad:function(){this.label.string=o.getCurrentExploration().id+" Game"},start:function(){}}),cc._RF.pop()},{global:"global"}],explorationItem:[function(e,t,n){"use strict";cc._RF.push(t,"07a45yM2qdE1Lmk/YYaXlnZ","explorationItem");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},updateExploration:function(e){this.exploration=e,this.label.string=e.id,e.passed&&(this.node.color=new cc.Color(80,80,80))},onClick:function(){o.setCurrentExploration(this.exploration),o.router.goto(o.SCENES.EXPLORATION_GAME_SCENE)},start:function(){}}),cc._RF.pop()},{global:"global"}],explorationScene:[function(e,t,n){"use strict";cc._RF.push(t,"aefebm3SX1L8qmkKYkCruSU","explorationScene");var o=e("global");cc.Class({extends:cc.Component,properties:{explorationList:{default:null,type:cc.Node},explorationPrefab:{default:null,type:cc.Prefab}},onLoad:function(){var e=this,t=o.getCurrentExplorationList();this.explorationList.height=100*Math.ceil(t.length/6),t.forEach(function(t){var n=new cc.instantiate(e.explorationPrefab);n.getComponent("explorationItem").updateExploration(t),e.explorationList.addChild(n)})},start:function(){},onBackClicked:function(){o.router.goto(o.SCENES.CITY_SCENE)}}),cc._RF.pop()},{global:"global"}],friendItem:[function(e,t,n){"use strict";cc._RF.push(t,"88488+SCXNA2Y2Uy6HrlQ2R","friendItem");var o=e("global");cc.Class({extends:cc.Component,properties:{nameLabel:{default:null,type:cc.Label},heroSprite:{default:null,type:cc.Node}},updateFriend:function(e){this.nameLabel.string=e.name;var t=this;cc.loader.loadRes(o.getHeroImage(e.heroId),cc.SpriteFrame,function(e,n){t.heroSprite.getComponent(cc.Sprite).spriteFrame=n})},start:function(){}}),cc._RF.pop()},{global:"global"}],friendsNode:[function(e,t,n){"use strict";cc._RF.push(t,"8b581UyaENPv5sSYFwru8fQ","friendsNode");e("global");cc.Class({extends:cc.Component,properties:{friendItemPrefab:{default:null,type:cc.Prefab}},updateFriends:function(e){this.renderFriends(e)},renderFriends:function(e){var t=this;this.node.removeAllChildren(),e.forEach(function(e){var n=cc.instantiate(t.friendItemPrefab);n.getComponent("friendItem").updateFriend(e),t.node.addChild(n)})},start:function(){}}),cc._RF.pop()},{global:"global"}],global:[function(e,t,n){"use strict";cc._RF.push(t,"cf139KU5VhKOYftsDiSwiRb","global");var o=e("router"),r=e("http"),i=Array.from(Array(12).keys()).map(function(e){return{id:"Q"+(e+1),question:"this is question'"+(e+1)}}),a=Array.from(Array(3).keys()).map(function(e){return{id:"Hero"+(e+1),image:"hero0"+(e%3+1)+".png"}}),c=Array.from(Array(12).keys()).map(function(e){return{id:"E"+(e+1),description:"this is exploration'"+(e+1)}}),s=Array.from(Array(12).keys()).map(function(e){return{id:"S"+(e+1),image:"MS0"+(e%4+1)+".png"}}),l=[{cityName:"\u5317\u4eac",quizs:i,explorations:c,storeItems:s},{cityName:"\u6b66\u6c49",quizs:i,explorations:c,storeItems:s},{cityName:"\u4e0a\u6d77",quizs:i,explorations:c,storeItems:s}],u=void 0,p=void 0,d=void 0,f=function(){cc.sys.localStorage.setItem("userProfiles",JSON.stringify(u))};t.exports={setPlayGround:function(e){d=e},getPlayGround:function(){return d},getCurrentCity:function(){return r.get("/about")},setCurrentCity:function(e){e},getCurrentQuizList:function(){return p.currentQuizList},getCurrentQuiz:function(){return p.currentQuiz},passCurrentQuiz:function(){this.getCurrentQuiz().passed=!0,f()},passCurrentExploration:function(){this.getCurrentExploration().passed=!0,f()},setCurrentQuiz:function(e){p.currentQuiz=e,f()},setCurrentExploration:function(e){p.currentExploration=e,f()},getCurrentExplorationList:function(){return p.currentExplorationList},getCurrentExploration:function(){return p.currentExploration},backpack:{add:function(e){p.backpackItems.push(e),f()},getItems:function(){return p.backpackItems}},login:function(e,t){var n=e&&e.startsWith("user");return n&&(function(){var e=cc.sys.localStorage.getItem("userProfiles");u=e?JSON.parse(e):{}}(),(p=u[e])||(p={id:e,name:e,isNew:!0,backpackItems:[],currentCity:{},currentQuiz:{},currentQuizList:[],currentExplorationList:[],currentExploration:{},achievements:Array.from(Array(5).keys()).map(function(e){return{id:"A"+(e+1),image:"Arc0"+(e%2+1)+".png"}}),character:{gender:"Male",name:"",age:6,heroId:"Hero1"},friends:[]},u[e]=p,f())),n},isFirstTimeUser:function(){return p.isNew},getHeroImage:function(e){return a.find(function(t){return t.id===e}).image},getOtherPlayers:function(){var e=[];for(var t in u){var n=u[t];n.id!==p.id&&e.push({id:n.id,name:n.name,heroId:n.character.heroId})}return e},profile:{getAchievements:function(){return p.achievements},updateCharacter:function(e){p.character=e,f()},getCharacter:function(){return p.character},setFriends:function(e){p.friends=e,f()},getFriends:function(){return p.friends}},router:o,SCENES:o.SCENES,heros:a,cityList:l},cc._RF.pop()},{http:"http",router:"router"}],heroSelector:[function(e,t,n){"use strict";cc._RF.push(t,"95014odKmhD/rznt1qER7iQ","heroSelector");var o=e("global");cc.Class({extends:cc.Component,properties:{heroSprite:{default:null,type:cc.Node}},showNext:function(){this.heroListIndex++,this.loadHero()},showPre:function(){this.heroListIndex--,this.loadHero()},getSelectedHero:function(){return this.heroList[Math.abs(this.heroListIndex%this.heroList.length)]},loadHero:function(){var e=this.heroList[Math.abs(this.heroListIndex%this.heroList.length)].image,t=this;cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){t.heroSprite.getComponent(cc.Sprite).spriteFrame=n})},onLoad:function(){this.heroList=o.heros,this.heroListIndex=0},start:function(){}}),cc._RF.pop()},{global:"global"}],hostelLobby:[function(e,t,n){"use strict";var o;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"91134ejcTBC/IOSMdTeCsla","hostelLobby");var i=e("global");cc.Class((r(o={extends:cc.Component,properties:{playerItemPrefab:{default:null,type:cc.Prefab},playerContainer:{default:null,type:cc.Node}},onNext:function(){i.router.goto(i.SCENES.CITY_SCENE)},onLoad:function(){var e=this;this.playerItemList=[],this.palyers=i.getOtherPlayers().slice(),this.palyers.push({id:"You",name:"Yourself",selected:!0,heroId:i.profile.getCharacter().heroId}),this.palyers.forEach(function(t){var n=new cc.instantiate(e.playerItemPrefab);n.setPosition(cc.v2((Math.random()-.5)*e.playerContainer.width,(Math.random()-.5)*e.playerContainer.height)),n.getComponent("playerItem").setPlayerContainer(e),n.getComponent("playerItem").updatePlayer(t),e.playerItemList.push(n.getComponent("playerItem")),e.playerContainer.addChild(n)})},onPlayerClicked:function(e){"You"===e.player.id&&!1===e.player.selected&&(alert("can not unselect yourself"),e.player.selected=!0),this.getSelectedPlayers().length>3&&(alert("can not add more"),e.player.selected=!1),e.updatePlayer(e.player)},getSelectedPlayers:function(){return this.palyers.filter(function(e){return e.selected})}},"onNext",function(){this.getSelectedPlayers().filter(function(e){return"You"!==e.id});i.profile.setFriends(this.getSelectedPlayers().filter(function(e){return"You"!==e.id})),i.getPlayGround().loadFriends(),i.router.goto(i.SCENES.CITY_SCENE)}),r(o,"start",function(){}),o)),cc._RF.pop()},{global:"global"}],http:[function(e,t,n){"use strict";cc._RF.push(t,"ad92c5WK6BGQJScmj8qoYUQ","http");var o={ip:e("config").api,get:function(e,t,n){for(var o in e+="?",t)e+=o+"="+t[o]+"&";var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<400){var e=r.responseText;if(e){var t=JSON.parse(e);n(t)}else console.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728"),n(!1)}else console.log("\u8bf7\u6c42\u5931\u8d25"),n(!1)},r.open("GET",this.ip+e,!0),r.send()},post:function(e,t,n){var o="";for(var r in t)o+=r+"="+t[r]+"&";var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400){var e=i.responseText;if(e){var t=JSON.parse(e);n(t)}else console.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728"),n(!1)}else console.log("\u8bf7\u6c42\u5931\u8d25"),n(!1)},i.open("POST",this.ip+e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o)}};t.exports=o,cc._RF.pop()},{config:"config"}],login:[function(e,t,n){"use strict";cc._RF.push(t,"949daWWxOlEwak8YPvQ28p5","login");var o=e("global"),r=e("LanguageData");cc.Class({extends:cc.Component,properties:{userNameEditor:{default:null,type:cc.EditBox},passwordEditor:{default:null,type:cc.EditBox},messageBox:{default:null,type:cc.Label}},onLoad:function(){r.init("zh-tw")},onLogin:function(){this.messageBox.string="";var e=this.userNameEditor.string,t=this.passwordEditor.string;o.login(e,t)?(o.isFirstTimeUser()?(cc.sys.localStorage.clear(),o.router.goto(o.SCENES.CHARACTER_SCENE)):o.router.goto(o.SCENES.WORLD_SCENE),o.getPlayGround().loadFriends()):this.messageBox.string="\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"},start:function(){},onLanguageSelected:function(e,t){r.init(t),r.updateSceneRenderers()}}),cc._RF.pop()},{LanguageData:"LanguageData",global:"global"}],main:[function(e,t,n){"use strict";cc._RF.push(t,"bd1f4kMrPxJSYX3HawsL/5o","main");var o=e("global");cc.Class({extends:cc.Component,properties:{},onLoad:function(){o.router.goto(o.SCENES.LOGIN_SCENE)},start:function(){}}),cc._RF.pop()},{global:"global"}],playGround:[function(e,t,n){"use strict";cc._RF.push(t,"5c2bblznZ5HzbLlOC5avWbO","playGround");var o=e("global");cc.Class({extends:cc.Component,properties:{profilePrefab:{default:null,type:cc.Prefab},friendsPrefab:{default:null,type:cc.Prefab}},onLoad:function(){o.setPlayGround(this.node.getComponent("playGround")),cc.game.addPersistRootNode(this.node),this.node.zIndex=-999},loadProfileNode:function(){var e=cc.instantiate(this.profilePrefab);this.node.addChild(e),this.profileController=e.getComponent("profileNode");var t=cc.instantiate(this.friendsPrefab);this.node.addChild(t)},loadFriends:function(){var e=o.profile.getFriends();if(e.length>0){var t=cc.instantiate(this.friendsPrefab);t.getComponent("friendsNode").updateFriends(e),this.node.addChild(t)}},updateHero:function(){this.profileController.updateHero()},start:function(){}}),cc._RF.pop()},{global:"global"}],playerItem:[function(e,t,n){"use strict";cc._RF.push(t,"3ca12M7o5FPhKpGhIKJoySe","playerItem");var o=e("global");cc.Class({extends:cc.Component,properties:{nameLabel:{default:null,type:cc.Label},heroSprite:{default:null,type:cc.Node},selectedCheckBox:{default:null,type:cc.Toggle}},updatePlayer:function(e){this.player=e,this.nameLabel.string=e.name;var t=this;cc.loader.loadRes(o.getHeroImage(e.heroId),cc.SpriteFrame,function(e,n){t.heroSprite.getComponent(cc.Sprite).spriteFrame=n}),this.selectedCheckBox.isChecked=e.selected},setPlayerContainer:function(e){this.playContainer=e},onToggleClicked:function(){this.player.selected=this.selectedCheckBox.isChecked,this.playContainer.onPlayerClicked(this)},start:function(){}}),cc._RF.pop()},{global:"global"}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,r){"function"==typeof define&&define.amd?define([],function(){return r(e)}):"object"==(void 0===n?"undefined":o(n))?t.exports=r(e):e.Polyglot=r(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||i}function n(e,t,n){var o,i;return null!=n&&e?o=function(e){return e.replace(/^\s+|\s+$/g,"")}((i=e.split(a))[r(t,n)]||i[0]):o=e,o}function r(e,t){return c[function(e){var t=function(e){var t,n,o,r={};for(t in e)if(e.hasOwnProperty(t))for(o in n=e[t])r[n[o]]=t;return r}(s);return t[e]||t.en}(e)](t)}function i(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"."+r),"object"==(void 0===n?"undefined":o(n))?this.extend(n,r):this.phrases[r]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var o,r;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?o=this.phrases[e]:"string"==typeof t._?o=t._:this.allowMissing?o=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof o&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),r=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(r=n(o,this.currentLocale,t.smart_count),t)),r},t.prototype.has=function(e){return e in this.phrases};var a="||||",c={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},s={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],profileNode:[function(e,t,n){"use strict";cc._RF.push(t,"c30d8urJ5FMI64rmhwt+7Ii","profileNode");var o=e("global");cc.Class({extends:cc.Component,properties:{heroSprite:{default:null,type:cc.Node}},onLoad:function(){this.updateHero()},updateHero:function(){var e=this;cc.loader.loadRes(o.getHeroImage(o.profile.getCharacter().heroId),cc.SpriteFrame,function(t,n){e.heroSprite.getComponent(cc.Sprite).spriteFrame=n})},gotoBackpack:function(){o.router.goto(o.SCENES.BACKPACK_SCENE)},gotoProfile:function(){o.router.goto(o.SCENES.PROFILE_SCENE)},start:function(){}}),cc._RF.pop()},{global:"global"}],profile:[function(e,t,n){"use strict";cc._RF.push(t,"5b183EnimhMFbM4TZu0iWHW","profile");var o=e("global");cc.Class({extends:cc.Component,properties:{achievementItemList:{default:null,type:cc.Node},achievementItemPrefab:{default:null,type:cc.Prefab},heroSprite:{default:null,type:cc.Node}},onBack:function(){o.router.goBack()},onLoad:function(){var e=this,t=o.profile.getAchievements();this.achievementItemList.height=100*Math.ceil(t.length/3),t.forEach(function(t){var n=new cc.instantiate(e.achievementItemPrefab);n.getComponent("achievementItem").updateAchievement(t),e.achievementItemList.addChild(n)});var n=o.profile.getCharacter().heroId,r=o.getHeroImage(n),i=this;cc.loader.loadRes(r,cc.SpriteFrame,function(e,t){i.heroSprite.getComponent(cc.Sprite).spriteFrame=t})},start:function(){}}),cc._RF.pop()},{global:"global"}],quizGameEnd:[function(e,t,n){"use strict";cc._RF.push(t,"a618cIU+nxFuLt2XfXEkE9K","quizGameEnd");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},onBack:function(){o.router.goto(o.SCENES.QUIZ_SCENE)},onLoad:function(){this.label.string=o.getCurrentQuiz().id+" Game End"},start:function(){}}),cc._RF.pop()},{global:"global"}],quizGame:[function(e,t,n){"use strict";cc._RF.push(t,"1860fCaVeBBfbxLIQeQ1aIi","quizGame");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},onEnd:function(){o.passCurrentQuiz(),o.router.goto(o.SCENES.QUIZ_GAME_END_SCENE)},onLoad:function(){this.label.string=o.getCurrentQuiz().id+" Game"},start:function(){}}),cc._RF.pop()},{global:"global"}],quizItem:[function(e,t,n){"use strict";cc._RF.push(t,"5deb2fFnN1FE7jQoTxXBAMx","quizItem");var o=e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},updateQuiz:function(e){this.quiz=e,this.label.string=e.id,e.passed&&(this.node.color=new cc.Color(80,80,80))},onClick:function(){o.setCurrentQuiz(this.quiz),o.router.goto(o.SCENES.QUIZ_GAME_SCENE)},start:function(){}}),cc._RF.pop()},{global:"global"}],quizScene:[function(e,t,n){"use strict";cc._RF.push(t,"fecdezPr1lH3qcyQbWr32nk","quizScene");var o=e("global");cc.Class({extends:cc.Component,properties:{quizList:{default:null,type:cc.Node},quizPrefab:{default:null,type:cc.Prefab}},onLoad:function(){var e=this,t=o.getCurrentQuizList();this.quizList.height=100*Math.ceil(t.length/6),t.forEach(function(t){var n=new cc.instantiate(e.quizPrefab);n.getComponent("quizItem").updateQuiz(t),e.quizList.addChild(n)})},start:function(){},onBackClicked:function(){o.router.goto(o.SCENES.CITY_SCENE)}}),cc._RF.pop()},{global:"global"}],router:[function(e,t,n){"use strict";cc._RF.push(t,"f51c9Y3M6VIEosIZY4H1zAi","router");var o=[];t.exports={SCENES:{MAIN_SCENE:"main.fire",PROFILE_SCENE:"profile.fire",LOGIN_SCENE:"login.fire",WORLD_SCENE:"world.fire",CITY_SCENE:"cityScene.fire",HOSTEL_LOBBY_SCENE:"hostelLobby.fire",CHARACTER_SCENE:"character.fire",STORE_SCENE:"world/city/store.fire",QUIZ_SCENE:"world/city/quiz.fire",EXPLORATION_SCENE:"world/city/exploration.fire",BACKPACK_SCENE:"backpack.fire",QUIZ_GAME_SCENE:"world/city/quiz/quizGame.fire",QUIZ_GAME_END_SCENE:"world/city/quiz/quizGameEnd.fire",EXPLORATION_GAME_SCENE:"world/city/exploration/explorationGame.fire",EXPLORATION_GAME_END_SCENE:"world/city/exploration/explorationGameEnd.fire"},goto:function(e,t){cc.director.loadScene(e,t),o.push(e)},goBack:function(){o.splice(-1,1),cc.director.loadScene(o[o.length-1])}},cc._RF.pop()},{}],storeItem:[function(e,t,n){"use strict";cc._RF.push(t,"19177u7rB5AMKD/K8zuPkye","storeItem");e("global");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},updateItem:function(e){this.item=e,this.label.string=e.id},onClick:function(){this.store.selectItem(this.item)},start:function(){}}),cc._RF.pop()},{global:"global"}],storeScene:[function(e,t,n){"use strict";cc._RF.push(t,"6aa3dopaFtOO5CeTioq1OkK","storeScene");var o=e("global");cc.Class({extends:cc.Component,properties:{storeItemList:{default:null,type:cc.Node},storeItemPrefab:{default:null,type:cc.Prefab},itemSprite:{default:null,type:cc.Node}},onBack:function(){o.router.goto(o.SCENES.CITY_SCENE)},onBuy:function(){this.selectedItem&&o.backpack.add(this.selectedItem)},selectItem:function(e){this.selectedItem=e;var t=this;cc.loader.loadRes(e.image,cc.SpriteFrame,function(e,n){t.itemSprite.getComponent(cc.Sprite).spriteFrame=n})},gotoBackpack:function(){o.router.goto(o.SCENES.BACKPACK_SCENE)},onLoad:function(){var e=this,t=o.getCurrentCity().storeItems;this.storeItemList.height=100*Math.ceil(t.length/3),t.forEach(function(t){var n=new cc.instantiate(e.storeItemPrefab);n.getComponent("storeItem").store=e,n.getComponent("storeItem").updateItem(t),e.storeItemList.addChild(n)})},start:function(){}}),cc._RF.pop()},{global:"global"}],"zh-cn":[function(e,t,n){"use strict";cc._RF.push(t,"51337SSPENGgJpCG5Hzpzu1","zh-cn"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages["zh-cn"]={login:{login_screen_label:"\u767b\u9646",username_label:"\u7528\u6237\u540d",username_placeholder:"\u7528\u6237\u540d",password_label:"\u5bc6\u7801",password_placeholder:"\u5bc6\u7801",login_button:"\u767b\u9646"}},cc._RF.pop()},{}],"zh-tw":[function(e,t,n){"use strict";cc._RF.push(t,"2a118ouQABIkrgNlmnbMATj","zh-tw"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages["zh-tw"]={login:{login_screen_label:"\u767b\u9678",username_label:"\u7528\u6236\u540d",username_placeholder:"\u7528\u6236\u540d",password_label:"\u5bc6\u78bc",password_placeholder:"\u5bc6\u78bc",login_button:"\u767b\u9678"}},cc._RF.pop()},{}]},{},["achievementItem","backpack","character","cityItem","cityScene","config","friendItem","friendsNode","global","heroSelector","hostelLobby","http","login","main","playGround","playerItem","profile","profileNode","router","explorationGame","explorationGameEnd","explorationItem","explorationScene","quizGame","quizGameEnd","quizItem","quizScene","storeItem","storeScene","en-us","zh-cn","zh-tw","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);